continue
session
billing_address
continue
session
continue
session
continue
session
continue
order.save
order
continue
order.save
order.products.length
order.products
order.products.count
order.products
order.products << prod
prod = cart.products.first
cart.products.first
cart.products.count
cart
order.save
order
continue
@cart
continue
@cart
session[:cart_id]
continue
session[:cart_id]
@cart
continue
Cart.find_by(user_id: current_user.id)
session[:cart_id]
@cart
continue
session[:cart_id]
cart
continue
current_user
session[:cart_id]
session
continue
cart
session
cart.products.count
cart
cart.products.first
cart.products
order.save
order
continue
session['shipping_details']['address']continue
user
session['shipping_details']['address']
session
shipping_address
order
order  = Order.new(user: user, total_price: session['amount_total'],address: shipping_address)
Order.new(user: user, total_price: session['amount_total'],address: shipping_address)
cart
user
cart
order
continue
session
cart
continue
session
continue
session
continue
event
event.data.object
event.data
event
customer
client
session
session['shipping']
event
current_user
session['client_reference_id']
session
continue
local_assigns[:label]
local_assigns[:value]
value
label
continue
content
title
continue
value
label
local_assigns[:label]
continue
